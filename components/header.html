<header>
  <div class="header-container">
    <a href="/" class="logo-link" id="logo-link">
      <img
        src="/images/racingLogo.png"
        alt="Racing de Santander Crest"
        class="logo"
        id="logo-image"
      />
    </a>

    <nav class="main-nav">
      <ul>
        <li><a href="/" id="nav-home">HOME</a></li>
        <li><a href="/squad" id="nav-squad">SQUAD</a></li>
        <li><a href="/history" id="nav-history">HISTORY</a></li>
      </ul>
    </nav>

    <a
      href="https://entradas.realracingclub.es/"
      target="_blank"
      rel="noopener noreferrer"
      class="cta-button"
      >BUY TICKETS</a
    >
    <button class="hamburger-menu" aria-label="Open navigation menu">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

<script>
  // Set correct paths based on current page location
  function setNavigationPaths() {
    // For Vercel, we use absolute paths
    const homePath = "/";
    const squadPath = "/squad";
    const historyPath = "/history";
    const imagePath = "/images/racingLogo.png";

    // Update logo link and image
    const logoLink = document.getElementById("logo-link");
    const logoImage = document.getElementById("logo-image");
    if (logoLink) logoLink.href = homePath;
    if (logoImage) logoImage.src = imagePath;

    // Update navigation links
    const homeLink = document.getElementById("nav-home");
    const squadLink = document.getElementById("nav-squad");
    const historyLink = document.getElementById("nav-history");

    if (homeLink) homeLink.href = homePath;
    if (squadLink) squadLink.href = squadPath;
    if (historyLink) historyLink.href = historyPath;
  }

  // Header functionality
  document.addEventListener("DOMContentLoaded", function () {
    // Set navigation paths first
    setNavigationPaths();

    // Set active navigation based on current page
    const currentPath = window.location.pathname;
    const pageNavMap = {
      "/": "nav-home",
      "/squad": "nav-squad",
      "/history": "nav-history",
    };

    const activeNavId = pageNavMap[currentPath];
    if (activeNavId) {
      const activeNav = document.getElementById(activeNavId);
      if (activeNav) {
        activeNav.classList.add("active");
      }
    }

    // Mobile menu functionality
    const hamburgerMenu = document.querySelector(".hamburger-menu");
    const mainNav = document.querySelector(".main-nav");

    hamburgerMenu.addEventListener("click", function () {
      mainNav.classList.toggle("active");
      this.classList.toggle("active");
    });

    // Close mobile menu when clicking on a link
    const navLinkElements = document.querySelectorAll(".main-nav a");
    navLinkElements.forEach((link) => {
      link.addEventListener("click", function () {
        mainNav.classList.remove("active");
        hamburgerMenu.classList.remove("active");
      });
    });
  });
</script>
